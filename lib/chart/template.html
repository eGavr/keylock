<!doctype html>
<html>
<head>
    <title>Line Chart</title>
    <script src="../vendors/Chart.js/Chart.js"></script>
    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <style>
        canvas {
            -webkit-box-shadow: 0 0 20px 0 rgba(0, 0, 0, .5);
        }
    </style>
</head>
<body>
    <div style="width:100%;">
        <canvas id="canvas" style="width:100%;height:100%"></canvas>
    </div>
    <script>
        var randomColorFactor = function() { return Math.round(Math.random() * 255); };

        var randomColor = function(opacity) {
            return 'rgba(' + randomColorFactor() + ',' + randomColorFactor() + ',' + randomColorFactor() + ',' + (opacity || '.3') + ')';
        };

        var config = {
            type: 'line',
            data: {labels: {{symbols}}, datasets: {{datasets}}},
            options: {
                responsive: true,
                legend: {position: 'bottom'},
                hover: {mode: 'label'},
                scales: {
                    xAxes: [{display: true, scaleLabel: {show: true, labelString: 'Month'}}],
                    yAxes: [{display: true, scaleLabel: {show: true, labelString: 'Value'}}]
                },
                title: {display: true, text: '{{title}}'}
            }
        };

        $.each(config.data.datasets, function(i, dataset) {
            var background = randomColor(0.5);
            dataset.borderColor = background;
            dataset.backgroundColor = background;
            dataset.pointBorderColor = background;
            dataset.pointBackgroundColor = background;
            dataset.pointBorderWidth = 1;
        });

        window.onload = function() {
            var ctx = document.getElementById("canvas").getContext("2d");
            window.myLine = new Chart(ctx, config);

            updateLegend();
        };

        function updateLegend() {
            $legendContainer = $('#legendContainer');
            $legendContainer.empty();
            $legendContainer.append(window.myLine.generateLegend());
        }
    </script>
</body>
</html>
